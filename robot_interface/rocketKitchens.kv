<Manager>
    #:import SwapTransition kivy.uix.screenmanager.SwapTransition


    transition: SwapTransition()

    LoginScreen:
        id: entry
        name: 'login'

    MainScreen:
        id: main
        name: 'main'


<LoginScreen>:
    id: entry
    BackGround:
    MDCard:
        orientation:'vertical'
        pos_hint:{'center_x':0.5,'center_y':0.5}
        size_hint:[0.9,0.6]
        padding:0,0,0,10
        spacing:15
        BoxLayout:
            orientation:'vertical'
            padding:0
            spacing:0
            MDLabel:
                text:'LOCAL BOT'
                halign:'center'
                font_size:20
                color:app.theme_cls.primary_color
                underline:True
                bold:True

            MDLabel:
                text:'SIGN IN'
                halign:'center'
                valign:'middle'
                font_size:15
                color:1,1,1,1
                bold:True

        MDTextField:
            id: username_input
            hint_text:'Username'
            mode:'rectangle'
            size_hint_x:None
            icon_right:'phone'
            icon_right_color:1,1,1,1
            width:250
            pos_hint:{'center_x':0.5}

        MDTextField:
            id: password_input
            hint_text:'Password'
            password:True
            mode:'rectangle'
            icon_right:'eye-off'
            icon_right_color:1,1,1,1
            size_hint_x:None
            width:250
            pos_hint:{'center_x':0.5}


        MDRaisedButton:
            id: i_log
            text:'SIGN IN'
            font_size:15
            pos_hint:{'center_x':0.5,'center_y':.5}
            on_press: root.login(i_log)




<BackGround@BoxLayout>:
    orientation:'vertical'

    title:'Rocket Kitchens'
    md_bg_color:app.theme_cls.primary_dark
    elevation:10
    right_action_items:[["dots-vertical",lambda x:None],['clock',lambda x:None]]

    BoxLayout:
        orientation:'vertical'
        canvas.before:
            Color:
                rgba:app.theme_cls.primary_dark
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[0,0,20,20]
    BoxLayout:
        orientation:'vertical'
        padding:0,0,0,20
        MDTextButton:
            text:'Forgot Password ?'

            bold:True
            font_size:'14dp'
            pos_hint:{'center_x':0.5}
        MDTextButton:
            text:f"[color=#FFFFFF]Don't have an Account?[/color] SIGN UP"
            markup:True
            bold:True
            font_size:'17dp'
            pos_hint:{'center_x':0.5}



<MainScreen>:
    id: main
    theme_style: "Dark"
    primary_palette: "Purple"
    BoxLayout:
        Image:
            source: "logo.jpg"
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 0.1)
        pos_hint: {"x": 0, "bottom": 1}


        MDFlatButton:
            id: start
            text: "Start"
            theme_text_color: "Custom"
            text_color: (1, 1, 1, 1)
            md_bg_color: (0.5, 0, 1, 1)
            width: self.parent.width/4
            on_press: root.obs_start(start)

        MDFlatButton:
            id: stop
            text: "Stop"
            theme_text_color: "Custom"
            text_color: (1, 1, 1, 1)
            md_bg_color: (0.5, 0, 1, 1)
            width: self.parent.width/4
            on_press: root.obs_stop(stop)

        MDFlatButton:
            id: status
            text: "Status"
            theme_text_color: "Custom"
            text_color: (1, 1, 1, 1)
            md_bg_color: (0.5, 0, 1, 1)
            width: self.parent.width/4

        MDFlatButton:
            id: out
            text: "Logout"
            theme_text_color: "Custom"
            ttext_color: (1, 1, 1, 1)
            md_bg_color: (0.5, 0, 1, 1)
            width: self.parent.width/4
            on_press: root.logout(out)